# Désactiver MultiViews pour éviter les erreurs AH00690
Options -MultiViews

# Sécurité - Empêcher l'exécution de scripts dans le dossier uploads
<FilesMatch "^images/projects/.*\.(php|phtml|php3|php4|php5)$">
    Require all denied
</FilesMatch>

# Optimisation des images - Headers de cache
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType image/jpg "access plus 1 month"
    ExpiresByType image/jpeg "access plus 1 month"
    ExpiresByType image/gif "access plus 1 month"
    ExpiresByType image/png "access plus 1 month"
    ExpiresByType image/webp "access plus 1 month"
</IfModule>

# Compression des images
<IfModule mod_deflate.c>
    <FilesMatch "\.(jpg|jpeg|png|gif|webp)$">
        SetOutputFilter DEFLATE
    </FilesMatch>
</IfModule>

# Bloquer l'accès aux fichiers sensibles à la racine
<FilesMatch "\.(env|htaccess|htpasswd|ini|log|sql|sh|bak|swp|DS_Store)$">
    Require all denied
</FilesMatch>
