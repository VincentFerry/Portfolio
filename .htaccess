# Configuration pour les uploads d'images
php_value upload_max_filesize 3M
php_value post_max_size 3M
php_value max_execution_time 60
php_value max_input_time 60
php_value memory_limit 128M

# Sécurité - Empêcher l'exécution de scripts dans le dossier uploads
<Directory "public/images/projects">
    <Files "*.php">
        Order Deny,Allow
        Deny from all
    </Files>
    <Files "*.phtml">
        Order Deny,Allow
        Deny from all
    </Files>
    <Files "*.php3">
        Order Deny,Allow
        Deny from all
    </Files>
    <Files "*.php4">
        Order Deny,Allow
        Deny from all
    </Files>
    <Files "*.php5">
        Order Deny,Allow
        Deny from all
    </Files>
</Directory>

# Optimisation des images - Headers de cache
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType image/jpg "access plus 1 month"
    ExpiresByType image/jpeg "access plus 1 month"
    ExpiresByType image/gif "access plus 1 month"
    ExpiresByType image/png "access plus 1 month"
    ExpiresByType image/webp "access plus 1 month"
</IfModule>

# Compression des images
<IfModule mod_deflate.c>
    <FilesMatch "\.(jpg|jpeg|png|gif|webp)$">
        SetOutputFilter DEFLATE
    </FilesMatch>
</IfModule>
